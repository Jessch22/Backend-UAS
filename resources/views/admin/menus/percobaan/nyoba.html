<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice</title>
    <link rel="stylesheet" href="css/nyoba.css">
</head>
<body>
    <div class="container">
        <div class="shopping-cart">
            <a href="#" onclick="continueShopping()" class="back-link">‚Üê Continue Shopping</a>
            <h2>Shopping Cart</h2>
            <div class="cart-items">
                <div class="cart-item" id="item-1">
                    <img src="https://i.pinimg.com/564x/2a/4a/1e/2a4a1e5ce0202fb4954fe1309f049c48.jpg" alt="Nasi Kuning">
                    <div class="item-details">
                        <p>Nasi Kuning</p>
                        <p>telur + minuman</p>
                        <div class="item-controls">
                            <button onclick="updateQuantity('item-1', 1)">+</button>
                            <input type="number" id="item-1-quantity" value="1" readonly>
                            <button onclick="updateQuantity('item-1', -1)">-</button>
                            <span class="item-price" id="item-1-price" data-unit-price="10000">Rp. 10.000</span>
                            <button class="delete-btn" onclick="removeItem('item-1')">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
                <div class="cart-item" id="item-2">
                    <img src="https://i.pinimg.com/564x/07/52/bc/0752bcff738524133af0ef3ceab711df.jpg" alt="Mie Spesial">
                    <div class="item-details">
                        <p>Mie Spesial</p>
                        <p>Mie + Telur + minuman Teh</p>
                        <div class="item-controls">
                            <button onclick="updateQuantity('item-2', 1)">+</button>
                            <input type="number" id="item-2-quantity" value="1" readonly>
                            <button onclick="updateQuantity('item-2', -1)">-</button>
                            <span class="item-price" id="item-2-price" data-unit-price="8000">Rp. 8.000</span>
                            <button class="delete-btn" onclick="removeItem('item-2')">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="payment-details">
            <h3>Card Details</h3>
            <form>
                <div class="card-type">
                    <label>
                        <input type="radio" name="card-type" value="mastercard" checked>
                        <img src="https://i.pinimg.com/564x/56/65/ac/5665acfeb0668fe3ffdeb3168d3b38a4.jpg" alt="MasterCard">
                    </label>
                    <label>
                        <input type="radio" name="card-type" value="visa">
                        <img src="https://i.pinimg.com/564x/de/72/b5/de72b5cd21b9c827639853f666b51b50.jpg" alt="Visa">
                    </label>
                    <label>
                        <input type="radio" name="card-type" value="gopay">
                        <img src="https://i.pinimg.com/564x/92/38/ad/9238ad5545b986874ac753855c4f3439.jpg" alt="Gopay">
                    </label>
                    <label>
                        <input type="radio" name="card-type" value="paypal">
                        <img src="https://i.pinimg.com/564x/7c/81/52/7c8152cb8959cd0155c5f8d6cc3c7cd6.jpg" alt="PayPal">
                    </label>
                </div>
                <div class="input-group">
                    <label for="card-name">Name on Card</label>
                    <input type="text" id="card-name" value="Daisy Murphy">
                </div>
                <div class="input-group">
                    <label for="card-number">Card Number</label>
                    <input type="text" id="card-number" value="1111 2222 3333 4444">
                </div>
                <div class="input-group">
                    <label for="card-expiration">Expiration Date</label>
                    <input type="text" id="card-expiration" value="10/2020">
                </div>
                <div class="input-group">
                    <label for="card-cvv">CVV</label>
                    <input type="text" id="card-cvv" value="123">
                </div>
                <div class="order-total">
                    <p>Subtotal: <span id="subtotal">Rp. 0</span></p>
                    <p>Shipping: <span id="shipping">Rp. 0</span></p>
                    <p>Total: <span id="total">Rp. 0</span></p>
                </div>
                <button type="button" onclick="checkout()">Checkout</button>
            </form>
        </div>


        <div class="invoice" id="invoice" style="display: none;">
            <h2>Invoice</h2>
            <div id="invoice-content">
                <!-- Invoice content will be generated by JavaScript -->
            </div>
            <button type="button" onclick="printInvoice()">Print Invoice</button>
        </div>
    </div>

    <script>
        function continueShopping() {
    // Implement functionality to continue shopping
}

function updateQuantity(itemId, change) {
    const quantityInput = document.getElementById(`${itemId}-quantity`);
    let quantity = parseInt(quantityInput.value) + change;
    if (quantity < 1) quantity = 1;
    quantityInput.value = quantity;
    updatePrice(itemId);
}

function updatePrice(itemId) {
    const quantity = parseInt(document.getElementById(`${itemId}-quantity`).value);
    const unitPrice = parseInt(document.getElementById(`${itemId}-price`).getAttribute('data-unit-price'));
    const priceElement = document.getElementById(`${itemId}-price`);
    priceElement.innerText = `Rp. ${unitPrice * quantity}`;
    updateTotals();
}

function removeItem(itemId) {
    document.getElementById(itemId).remove();
    updateTotals();
}

function updateTotals() {
    const items = document.querySelectorAll('.cart-item');
    let subtotal = 0;
    items.forEach(item => {
        const quantity = parseInt(item.querySelector('input').value);
        const unitPrice = parseInt(item.querySelector('.item-price').getAttribute('data-unit-price'));
        subtotal += quantity * unitPrice;
    });
    const shipping = subtotal > 0 ? 10.000 : 0; // Example shipping cost
    const total = subtotal + shipping;
    document.getElementById('subtotal').innerText = `Rp. ${subtotal}`;
    document.getElementById('shipping').innerText = `Rp. ${shipping}`;
    document.getElementById('total').innerText = `Rp. ${total}`;
}

function checkout() {
    const items = document.querySelectorAll('.cart-item');
    if (items.length === 0) {
        alert('Your cart is empty.');
        return;
    }
    const invoiceContent = document.getElementById('invoice-content');
    invoiceContent.innerHTML = '';

    const header = `
        <div class="invoice-header">
            <h1>AGATHA.</h1>
            <p>Fashion Style</p>
            <div class="contact-info">
                <p>Santa Monica St, 50300 Monterialst</p>
                <p>+01 234 567 8999</p>
                <p>info@.com</p>
            </div>
        </div>
    `;
    invoiceContent.insertAdjacentHTML('beforeend', header);

    const invoiceInfo = `
        <div class="invoice-info">
            <p>Invoice To: Mr & Mrs Jonny Doe</p>
            <p>Due Date: 00-00-0000</p>
            <p>Invoice Number: 001</p>
        </div>
    `;
    invoiceContent.insertAdjacentHTML('beforeend', invoiceInfo);

    const tableHeader = `
        <div class="invoice-items">
            <table>
                <thead>
                    <tr>
                        <th>Item Description</th>
                        <th>Qty</th>
                        <th>Price</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="invoice-items-body">
                </tbody>
            </table>
        </div>
    `;
    invoiceContent.insertAdjacentHTML('beforeend', tableHeader);

    let invoiceItemsBody = '';
    items.forEach(item => {
        const description = item.querySelector('.item-details p').innerText;
        const quantity = item.querySelector('input').value;
        const unitPrice = item.querySelector('.item-price').getAttribute('data-unit-price');
        const total = quantity * unitPrice;
        invoiceItemsBody += `
            <tr>
                <td>${description}</td>
                <td>${quantity}</td>
                <td>Rp. ${unitPrice}</td>
                <td>Rp. ${total}</td>
            </tr>
        `;
    });

    // invoice
    document.getElementById('invoice-items-body').innerHTML = invoiceItemsBody;

    const subtotal = document.getElementById('subtotal').innerText;
    const shipping = document.getElementById('shipping').innerText;
    const total = document.getElementById('total').innerText;

    const footer = `
        <div class="invoice-footer">
            <div class="payment-method">
                <p>Payment Method</p>
                <p>BANK TRANSFER CODE: 11-24-4536-7684</p>
                <p>ONLINE TRANSFER CODE: 14-85-6579-8970</p>
            </div>
            <div class="totals">
                <p>SUBTOTAL: ${subtotal}</p>
                <p>SHIPPING: ${shipping}</p>
                <p>TOTAL: ${total}</p>
            </div>
        </div>
    `;
    invoiceContent.insertAdjacentHTML('beforeend', footer);

    document.getElementById('invoice').style.display = 'block';
}

function printInvoice() {
    const invoice = document.getElementById('invoice').innerHTML;
    const originalContent = document.body.innerHTML;
    document.body.innerHTML = invoice;
    window.print();
    document.body.innerHTML = originalContent;
    location.reload();
}


    </script>
</body>
</html>
